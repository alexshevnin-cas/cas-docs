# BI MVP — План проекта

> **Версия:** 1.0
> **Дата:** 2026-02-16
> **Статус:** Активный
> **Источник:** Кикоф 16.02 (Алексей, Руслан, Борис)
> **Связь с roadmap:** GOAL-1, инициативы P1, D1

---

## Саммари

Строим новый кабинет CAS — отдельное SPA с BI-аналитикой как главным разделом. Не модуль внутри старого кабинета, а самостоятельное приложение с собственным sidebar, навигацией и авторизацией.

**Подход:** шаблон → наполнение → обкатка с клиентами → дизайнер полирует.

**Первая аудитория:** L1-клиенты (базовая медиация, ~$5K/мес revenue).

---

## Архитектура

```
┌──────────────┐     ┌──────────────┐     ┌──────────────┐
│   Frontend   │────▶│   Backend    │────▶│   Database   │
│  (Vue 3 SPA) │     │  (API, JSON) │     │  B2B → CH    │
└──────────────┘     └──────────────┘     └──────────────┘
    Руслан              Руслан              Борис + DE
```

- **Frontend:** Vue 3, Tailwind, платный шаблон (выбирает Руслан)
- **Backend:** рефакторнут по best practices (~90% готов), сервисы/контроллеры/DTO
- **Данные:** стартуем на B2B базе, потом переключаемся на ClickHouse (Борис готовит)

---

## Команда и роли

| Кто | Роль | Зона ответственности |
|-----|------|---------------------|
| Алексей Шевнин | Product Owner | Требования, клиенты, приоритеты, спецификации |
| Руслан Новиков | Full-stack dev | Frontend (основное), backend (по необходимости), выбор шаблона |
| Борис Шифрин | Data lead | База данных, ClickHouse, подготовка данных, формулы метрик |

---

## Итерации

### Step 1: Каркас + Quick View
**Цель:** собрать работающий каркас, можно открыть и покликать.

| Компонент | Детали |
|-----------|--------|
| Шаблон | Vue 3, Tailwind, тёмная тема, качественные таблицы |
| Sidebar | Сворачиваемый: Analytics (активный), Apps, Docs, Support (заглушки), профиль |
| Quick View — фильтры | App Selector (dropdown + поиск), Period Selector (Today / 7d / 30d / This Month / Custom) |
| Quick View — карточки | DAU, Revenue, ARPDAU, eCPM, Impressions/DAU — каждая с динамикой vs предыдущий период |
| Quick View — Revenue Trend | Multi-line chart по дням. All Apps = линия на каждое приложение |
| Quick View — Network Breakdown | Stacked bar + grid: revenue, доля %, eCPM по каждой сети. Неактивные сети — серым |
| Данные | Хардкод / JSON-файл (моки) |
| Деплой | Стейдж на субдомене cas.ai |

**Изменения vs kickoff-план:**
- Добавлена метрика Impressions/DAU (предложил Борис)
- Fill Rate убран из карточек
- Rixzo отпал по техническим причинам — Руслан выбирает шаблон сам

### Step 2: Reports
**Цель:** полноценный рабочий BI на моковых/B2B данных.

| Компонент | Детали |
|-----------|--------|
| Фильтры | Chip-based: Period*, App*, Platform, Country, Ad Type. × для удаления |
| Разбивки (Split) | Date, App, Platform, Ad Type, Country. Порядок chips = порядок группировки |
| Метрики | Revenue, DAU, ARPDAU, eCPM, Fill Rate, Impressions — sidebar + chips |
| Таблица | Sticky header, sticky footer (итоги), сортировка, зебра-стайл |
| Визуализация | Toggle Table / Chart (bar или line) |
| Export | CSV — кнопка, хорошо видимая |
| Данные | Мок API или B2B данные (по готовности Бориса) |

### Step 3: Живые данные
**Цель:** бета для реальных клиентов.

| Компонент | Детали |
|-----------|--------|
| Источник | ClickHouse (Борис готовит materialized views) |
| Лимит | 50K строк max, сообщение "корректируйте фильтры" при превышении |
| Производительность | Latency < 2 сек (target из GOAL-2) |

---

## Ключевые решения (16.02)

| # | Решение | Контекст |
|---|---------|----------|
| 1 | Новый кабинет, не модуль старого | Отдельное SPA, своя навигация, свой URL |
| 2 | Шаблон вместо дизайнера на старте | Дизайнер приходит после обкатки |
| 3 | Rixzo не подходит | Устаревший JS, jQuery. Руслан ищет альтернативу |
| 4 | Vue 3 + Tailwind | Миграция с Vue 2, закрытие тех. долга |
| 5 | Мобилка на паузу | Держим в уме, но не закладываем сейчас |
| 6 | Тёмная тема обязательна | Все клиенты просят |
| 7 | B2B данные как стартовая точка | Руслан стартует на существующих данных, потом переключение на CH |
| 8 | Backend и frontend параллельно | Backend ~90% готов, фронт — основная работа |
| 9 | Единый фронт для B2B и Internal | Один UI, разные права доступа |
| 10 | Недельные спринты | Пятничное планирование на следующую неделю |

---

## Чего НЕ будет в первой версии

| Фича | Когда |
|------|-------|
| SDK / App Version splits | L2 (P2) |
| Retention, LTV, когорты | L2 (требуют ILRD — D3) |
| UA метрики (CPI, ROAS) | Pub (требуют MMP — D5) |
| Saved Views | L2 (P2) |
| Deep Linking / Share Link | L2 (P2) |
| Excel export | L2 (только CSV в MVP) |
| Anomaly Detection | L2 (P2) |
| Мобильная версия | Не в приоритете |
| Кастомный дизайн | После обкатки |

---

## Формат работы

- **Задачи:** ClickUp (проект B2B / CAS)
- **Документация:** Slack-канал + ClickUp
- **Спринты:** недельные, планирование по пятницам
- **Коммуникация:** Slack, созвоны по необходимости

---

## Связанные документы

| Документ | Что даёт |
|----------|---------|
| `03-product/design-spec-bi.md` | UI-спецификация Quick View и Reports |
| `04-bi/metrics-dictionary.md` | Справочник метрик |
| `04-bi/filters.md` | Фильтры и сплиты |
| `03-product/roadmap.md` | GOAL-1, P1, D1 |
| `05-research/kickoff-ruslan.md` | Подготовка к кикофу |
| `05-research/BI-templatewout designer.md` | Транскрипт кикофа |
